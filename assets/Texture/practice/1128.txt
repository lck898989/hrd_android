      蜀建兴三年（公元225年），南蛮王孟获造反，诸葛亮亲率五十万大军，采用马谡心战为上、兵战为下之策深入云南。擒了孟获后因其不服而释放，此后蜀军渡过泸水，多次与孟获交战，克服重重困难，直抵乌戈国，先后对孟获七擒七纵。最终孟获感恩，誓不再反，南方之乱平息。
      此时魏主曹丕已经病逝，曹睿继位，重用深有谋略的司马懿。诸葛亮用马谡之谋，设离间计使曹睿削了司马懿兵权。蜀建兴五年（公元227年），诸葛亮为继承刘备遗志，上《出师表》请求伐魏。魏驸马夏侯楙为主将出战，屡为蜀兵所败。年逾七旬的老将赵云更建奇功，力斩五将。后诸葛亮定计收取西三郡，又收降了魏将姜维，使之成为自己的爱徒。曹睿联合羌王彻里吉共同进兵，诸葛亮乘雪大破羌兵。
      魏将孟达欲同诸葛亮里应外合献城，此时司马懿复职，直抵新城。孟达事败，死于城下。与魏军交战，街亭成为关健。马谡自告奋勇立军令状，去守街亭，却因不能活用兵法，更兼盲目自大，痛失街亭。司马懿兵至西城，诸葛亮定空城计暂退魏军，随后大军撤回汉中，第一次伐魏宣告失败。为正军令，诸葛亮挥泪斩马谡。不久老将赵云病故。
      此后，直至蜀建兴十一年（公元233年），诸葛亮又四次伐魏(二次北伐时上《后出师表》)，然而国力衰微，君主无能，且后方用人不当，每一次都是以偌大的遗憾宣告失败。
      蜀建兴十二年（公元234年），诸葛亮六出祁山，初战即败。接着用奇计困司马懿于上方谷，欲火烧司马懿，不料天降大雨，其计不成。此后越发病重，祈福时被无心魏延扑灭七星主灯而失败，将后事嘱托完毕，病逝于五丈原。      诸葛亮死后，仍遗计用木雕吓退了司马懿，又使马岱斩了造反作乱的大将魏延。在此期间，东吴孙权也称帝。