      公元208年（建安十三年），刘备联合孙权，与周瑜率领联军大败曹操于赤壁，又南收荆州四郡。刘备从孙权手中借的荆州江陵（南郡），占据荆州五郡。
      公元211年（建安十六年），刘璋听从张松建议，派法正邀请刘备入川襄助自己对付张鲁，法正、庞统在此时劝刘备图取益州。刘备遂留诸葛亮、关羽等守荆州，自将数万步卒入蜀，与刘璋会于涪。期间张松、法正、庞统皆劝刘备袭杀刘璋，刘备以初来到蜀地，人心尚未信服，不宜轻举妄动为由拒绝。刘璋上表推荐刘备代理大司马，兼领司隶校尉，配给刘备士兵，督白水军，令他攻击张鲁。刘备北至葭萌，驻军不前，厚树恩德以收众心。
      公元212年（建安十七年），张松事情败露被杀，刘备于是与刘璋反目。刘备依庞统提出的计谋，召白水军的杨怀到来并将其斩杀，吞并其部队。派黄忠、卓膺率军南下进攻刘璋，占领涪城。
      公元213年（建安十八年），刘璋派遣刘璝、泠苞、张任、邓贤、吴懿等在涪阻击刘备，都被刘备打败，吴懿投降。刘璋又派李严、费观统帅绵竹诸军阻击刘备，李严率众投降。刘备军力益强，分军平定各县。同时调诸葛亮、张飞、赵云等率军入蜀。张任、刘循退守雒城，刘备率军进攻，张任出击，被刘备军斩杀，刘循遂坚守不出，庞统率军攻打雒城时为流矢所中战死城下。
      公元214年（建安十九年），雒城被围近一年才被攻克，刘备乃与诸葛亮、张飞、赵云等共围成都。时刘备派建宁督邮李恢说降马超。马超来到成都，刘备命他率军屯城北，一时城中震怖。刘备于是派简雍劝降了刘璋，遂领益州牧，启用蜀中诸多人才。